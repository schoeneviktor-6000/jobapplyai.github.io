<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Signup â€¢ JobApply-AI</title>
<style>
:root{
  --bg:#f6f7f9;
  --card:#ffffffcc;
  --cardSolid:#fff;
  --text:#0b0b0c;
  --muted:rgba(0,0,0,.62);
  --border:rgba(0,0,0,.10);
  --shadow:0 14px 40px rgba(0,0,0,.08);
  --radius:22px;
  --radius2:999px;
  --black:#0b0b0c;
  --lime:#22c55e;
  --lime2:#16a34a;
  --warn:#f59e0b;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--text);
  background:
    radial-gradient(900px 500px at 15% 0%, rgba(34,197,94,.18), transparent 60%),
    radial-gradient(700px 500px at 90% 10%, rgba(34,197,94,.12), transparent 55%),
    var(--bg);
}
a{color:inherit;text-decoration:none}
.wrap{max-width:1180px;margin:0 auto;padding:18px 18px 56px}
.nav{
  display:flex;align-items:center;justify-content:space-between;gap:14px;
  padding:10px 6px;margin-bottom:18px;
}
.brand{display:flex;align-items:center;gap:10px;font-weight:800}
.logo{width:28px;height:18px;border-radius:7px;background:linear-gradient(135deg, #a7f3d0, #22c55e)}
.navlinks{display:flex;gap:16px;align-items:center;flex-wrap:wrap;font-size:13px;color:var(--muted)}
.navlinks a:hover{color:var(--text)}
.navcta{display:flex;gap:10px;align-items:center}
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:8px;
  padding:10px 14px;border-radius:var(--radius2);
  border:1px solid rgba(0,0,0,.12);
  background:#fff; cursor:pointer;
  font-weight:700;font-size:13px; line-height:1;
  transition:transform .15s ease, box-shadow .15s ease, opacity .15s ease;
}
.btn:hover{box-shadow:0 8px 24px rgba(0,0,0,.10)}
.btn:active{transform:translateY(1px)}
.btn.black{background:var(--black);border-color:var(--black);color:#fff}
.btn.lime{background:linear-gradient(135deg,#a7f3d0,#22c55e);border-color:rgba(34,197,94,.35)}
.btn.disabled, .btn:disabled{opacity:.45;cursor:not-allowed;box-shadow:none}
.pill{
  display:inline-flex;align-items:center;gap:8px;
  border:1px solid rgba(0,0,0,.10); background:#fff;
  padding:8px 12px;border-radius:999px;font-size:13px;color:var(--muted)
}
.dot{width:8px;height:8px;border-radius:99px;background:rgba(0,0,0,.25)}
.dot.ok{background:var(--lime)}
.dot.warn{background:var(--warn)}
.page{
  display:grid;grid-template-columns: 1.05fr .95fr; gap:22px; align-items:start;
}
@media (max-width:980px){ .page{grid-template-columns:1fr} }
.left{
  padding:10px 6px;
}
.h1{font-size:64px;letter-spacing:-.04em;line-height:1.02;margin:18px 0 8px}
@media (max-width:680px){ .h1{font-size:44px} }
.sub{font-size:18px;color:var(--muted);line-height:1.5;max-width:56ch}
.card{
  background:var(--cardSolid); border:1px solid rgba(0,0,0,.10);
  border-radius:var(--radius); box-shadow:var(--shadow);
  padding:18px;
}
.card.soft{background:var(--card)}
.steps{
  display:flex; gap:10px; flex-wrap:wrap; margin:14px 0 0;
}
.step{
  display:flex;align-items:center;gap:10px;
  border:1px solid rgba(0,0,0,.10); background:#fff;
  border-radius:999px; padding:10px 12px; font-size:14px;
}
.stepNum{
  width:26px;height:26px;border-radius:999px;
  display:inline-flex;align-items:center;justify-content:center;
  border:1px solid rgba(0,0,0,.14);
  background:rgba(0,0,0,.04);
  font-weight:800;
}
.step[aria-current="step"]{
  border-color:rgba(34,197,94,.40);
  box-shadow:0 10px 30px rgba(34,197,94,.16);
}
.step[aria-current="step"] .stepNum{
  background:linear-gradient(135deg,#a7f3d0,#22c55e);
  border-color:rgba(34,197,94,.45);
}
.step.muted{opacity:.55}
.hr{height:1px;background:rgba(0,0,0,.08);margin:14px 0}
.h3{font-size:16px;margin:0 0 10px}
.help{font-size:13px;color:var(--muted);line-height:1.5;margin:0 0 12px}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:680px){ .grid2{grid-template-columns:1fr} }
.field label{display:block;font-size:12px;color:var(--muted);margin:2px 0 6px;font-weight:700}
.input, select{
  width:100%; padding:12px 12px; border-radius:14px;
  border:1px solid rgba(0,0,0,.12);
  background:#fff; font-size:14px;
}
.input:focus, select:focus{outline:2px solid rgba(34,197,94,.25);border-color:rgba(34,197,94,.45)}
.actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.toast{
  position:fixed;left:50%;bottom:18px;transform:translateX(-50%);
  background:#0b0b0c;color:#fff;padding:10px 12px;border-radius:999px;
  font-size:13px;opacity:0;pointer-events:none;transition:opacity .2s ease, transform .2s ease;
  box-shadow:0 12px 30px rgba(0,0,0,.22);
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(-2px)}
.fadeOut{animation:fadeOut .28s ease forwards}
@keyframes fadeOut{to{opacity:0;transform:translateY(6px)}}
.footer{margin-top:18px;color:var(--muted);font-size:12px}
.small{font-size:12px;color:var(--muted)}
.badge{
  display:inline-flex;align-items:center;gap:8px;
  border:1px solid rgba(0,0,0,.10);background:#fff;border-radius:999px;
  padding:8px 10px;font-size:12px;color:var(--muted);font-weight:700
}
.badge strong{color:var(--text)}
</style>
<script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
<div class="wrap" id="top">


<nav class="nav" aria-label="Primary navigation">
  <a class="brand" href="index.html#top" aria-label="JobApply-AI Home">
    <div class="logo" aria-hidden="true"></div>
    <span>JobApply-AI</span>
  </a>
  <div class="navlinks" aria-label="Site links">
    <a href="index.html#how">How it works</a>
    <a href="index.html#dashboard">Dashboard</a>
    <a href="index.html#pricing">Pricing</a>
    <a href="index.html#why">Why this works</a>
    <a href="index.html#contact">Contact</a>
  </div>
  <div class="navcta">
    <span class="pill" id="authPill"><span class="dot"></span><span id="authText">Not signed in</span></span>
  </div>
</nav>

<div class="page" id="page">
  <div class="left">
    <div class="h1">Signup</div>
    <div class="sub">Step 1 of 3. Sign in with Google, then grant Gmail access so we can send applications from your mailbox (with your approval).</div>
    
<div class="steps" aria-label="Onboarding steps">
  <a class="step" href="signup.html" aria-current="step" onclick="JA.nav('signup.html');return false;"><span class="stepNum">1</span><span>Signup</span></a>
  <a class="step" href="profile.html"  onclick="JA.nav('profile.html');return false;"><span class="stepNum">2</span><span>Profile</span></a>
  <a class="step" href="plan.html"  onclick="JA.nav('plan.html');return false;"><span class="stepNum">3</span><span>Plan</span></a>
</div>

    <div class="footer">Need help? Email <a href="mailto:schonv2@gmail.com"><strong>schonv2@gmail.com</strong></a>.</div>
  </div>

  <div class="card" id="card">
    <div class="h3">1) Google login</div>
    <p class="help">This uses Google Identity Services. Add your Google OAuth Client ID in the code (placeholder below) to enable sign-in.</p>

    <div class="grid2">
      <div class="badge" id="signedBadge"><span class="dot" id="signedDot"></span><span>Status: <strong id="signedText">Not signed in</strong></span></div>
      <div class="badge" id="gmailBadge"><span class="dot" id="gmailDot"></span><span>Gmail access: <strong id="gmailText">Not granted</strong></span></div>
    </div>

    <div class="hr"></div>

    <div id="gBtnWrap"></div>
    <div class="actions">
      <button class="btn" id="mockSignBtn" type="button">Mock sign-in (demo)</button>
      <button class="btn lime disabled" id="grantBtn" type="button" disabled>Grant Gmail access</button>
      <button class="btn black disabled" id="continueBtn" type="button" disabled>Continue to profile</button>
    </div>

    <p class="small" style="margin-top:10px">
      For production: you will need a secure backend (or Firebase) to store refresh tokens. Otherwise access expires.
    </p>
  </div>
</div>

<script>
(function(){
  const CLIENT_ID = "YOUR_GOOGLE_CLIENT_ID"; // TODO: replace
  const SCOPES = "https://www.googleapis.com/auth/gmail.send";

  const signedDot = document.getElementById('signedDot');
  const gmailDot = document.getElementById('gmailDot');
  const signedText = document.getElementById('signedText');
  const gmailText = document.getElementById('gmailText');
  const authPill = document.getElementById('authPill');
  const authText = document.getElementById('authText');
  const grantBtn = document.getElementById('grantBtn');
  const continueBtn = document.getElementById('continueBtn');
  const mockSignBtn = document.getElementById('mockSignBtn');
  const gBtnWrap = document.getElementById('gBtnWrap');

  function setDot(dotEl, state){
    dotEl.className = "dot " + (state === "ok" ? "ok" : state === "warn" ? "warn" : "");
  }
  function setEnabled(btn, enabled){
    btn.disabled = !enabled;
    btn.classList.toggle('disabled', !enabled);
  }
  function refreshUI(){
    const email = JA.get('ja_user_email');
    const signedIn = !!email;
    const gmailGranted = JA.get('ja_gmail_granted') === 'true';

    signedText.textContent = signedIn ? ("Signed in (" + email + ")") : "Not signed in";
    gmailText.textContent = gmailGranted ? "Granted" : "Not granted";

    setDot(signedDot, signedIn ? "ok" : "");
    setDot(gmailDot, gmailGranted ? "ok" : "");

    authText.textContent = signedIn ? email : "Not signed in";
    authPill.querySelector('.dot').className = "dot " + (signedIn ? "ok" : "");

    setEnabled(grantBtn, signedIn);
    setEnabled(continueBtn, signedIn && gmailGranted);
  }

  function markSignedIn(email){
    JA.set('ja_user_email', email);
    JA.set('ja_signed_in', 'true');
    JA.showToast('Signed in');
    refreshUI();
  }

  mockSignBtn.addEventListener('click', function(){
    markSignedIn('demo.user@gmail.com');
  });

  function initGIS(){
    if(!window.google || !google.accounts || !google.accounts.id){
      return;
    }
    if(!CLIENT_ID || CLIENT_ID === "YOUR_GOOGLE_CLIENT_ID"){
      const hint = document.createElement('div');
      hint.className = "pill";
      hint.style.marginBottom = "10px";
      hint.innerHTML = '<span class="dot warn"></span><span>Add your Google Client ID to enable real sign-in.</span>';
      gBtnWrap.appendChild(hint);
      return;
    }
    google.accounts.id.initialize({
      client_id: CLIENT_ID,
      callback: (response) => {
        JA.set('ja_google_id_token', response.credential || '');
        markSignedIn('signed-in@gmail.com');
      }
    });
    google.accounts.id.renderButton(gBtnWrap, {
      theme: "outline",
      size: "large",
      shape: "pill",
      text: "continue_with",
      width: 260
    });
  }

  let tokenClient = null;
  function initTokenClient(){
    if(!window.google || !google.accounts || !google.accounts.oauth2) return;
    if(!CLIENT_ID || CLIENT_ID === "YOUR_GOOGLE_CLIENT_ID") return;

    tokenClient = google.accounts.oauth2.initTokenClient({
      client_id: CLIENT_ID,
      scope: SCOPES,
      callback: (tokenResponse) => {
        if(tokenResponse && tokenResponse.access_token){
          JA.set('ja_gmail_granted', 'true');
          JA.set('ja_gmail_access_token', tokenResponse.access_token);
          JA.showToast('Gmail access granted');
          refreshUI();
        } else {
          JA.showToast('Could not grant Gmail access');
        }
      }
    });
  }

  grantBtn.addEventListener('click', function(){
    if(!JA.get('ja_user_email')){
      JA.showToast('Sign in first');
      return;
    }
    if(!tokenClient){
      JA.showToast('Add Client ID to enable Gmail permission');
      return;
    }
    tokenClient.requestAccessToken({ prompt: "consent" });
  });

  continueBtn.addEventListener('click', function(){
    if(continueBtn.disabled) return;
    JA.nav('profile.html');
  });

  document.querySelectorAll('.steps a').forEach(a=>{
    a.addEventListener('click', (e)=>{
      const href = a.getAttribute('href');
      if(href === 'profile.html' && JA.get('ja_signed_in') !== 'true'){
        e.preventDefault(); JA.showToast('Complete signup first');
      }
      if(href === 'plan.html' && JA.get('ja_profile_complete') !== 'true'){
        e.preventDefault(); JA.showToast('Complete profile first');
      }
    });
  });

  refreshUI();
  window.addEventListener('load', ()=>{
    initGIS();
    initTokenClient();
  });
})();
</script>

</div>
<div id="toast" class="toast" role="status" aria-live="polite"></div>

<script>
(function(){
  const toast = document.getElementById('toast');
  function showToast(msg){
    if(!toast) return;
    toast.textContent = msg;
    toast.classList.add('show');
    window.clearTimeout(showToast._t);
    showToast._t = window.setTimeout(()=>toast.classList.remove('show'), 2200);
  }
  window.JA = {
    showToast,
    nav(url){
      document.body.classList.add('fadeOut');
      setTimeout(()=>{ window.location.href = url; }, 220);
    },
    get(key){ try{return localStorage.getItem(key);}catch(e){return null;} },
    set(key,val){ try{ localStorage.setItem(key,val);}catch(e){} },
    del(key){ try{ localStorage.removeItem(key);}catch(e){} },
  };
})();
</script>

</body>
</html>
