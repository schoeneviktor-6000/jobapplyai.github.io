<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Choose a plan • JobApply-AI</title>
<style>
:root{
  --bg:#f6f7f9;
  --card:#ffffffcc;
  --cardSolid:#fff;
  --text:#0b0b0c;
  --muted:rgba(0,0,0,.62);
  --border:rgba(0,0,0,.10);
  --shadow:0 14px 40px rgba(0,0,0,.08);
  --radius:22px;
  --radius2:999px;
  --black:#0b0b0c;
  --lime:#22c55e;
  --lime2:#16a34a;
  --warn:#f59e0b;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--text);
  background:
    radial-gradient(900px 500px at 15% 0%, rgba(34,197,94,.18), transparent 60%),
    radial-gradient(700px 500px at 90% 10%, rgba(34,197,94,.12), transparent 55%),
    var(--bg);
}
a{color:inherit;text-decoration:none}
.wrap{max-width:1180px;margin:0 auto;padding:18px 18px 56px}
.nav{
  display:flex;align-items:center;justify-content:space-between;gap:14px;
  padding:10px 6px;margin-bottom:18px;
}
.brand{display:flex;align-items:center;gap:10px;font-weight:800}
.logo{width:28px;height:18px;border-radius:7px;background:linear-gradient(135deg, #a7f3d0, #22c55e)}
.navlinks{display:flex;gap:16px;align-items:center;flex-wrap:wrap;font-size:13px;color:var(--muted)}
.navlinks a:hover{color:var(--text)}
.navcta{display:flex;gap:10px;align-items:center}
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:8px;
  padding:10px 14px;border-radius:var(--radius2);
  border:1px solid rgba(0,0,0,.12);
  background:#fff; cursor:pointer;
  font-weight:700;font-size:13px; line-height:1;
  transition:transform .15s ease, box-shadow .15s ease, opacity .15s ease;
}
.btn:hover{box-shadow:0 8px 24px rgba(0,0,0,.10)}
.btn:active{transform:translateY(1px)}
.btn.black{background:var(--black);border-color:var(--black);color:#fff}
.btn.lime{background:linear-gradient(135deg,#a7f3d0,#22c55e);border-color:rgba(34,197,94,.35)}
.btn.disabled, .btn:disabled{opacity:.45;cursor:not-allowed;box-shadow:none}
.pill{
  display:inline-flex;align-items:center;gap:8px;
  border:1px solid rgba(0,0,0,.10); background:#fff;
  padding:8px 12px;border-radius:999px;font-size:13px;color:var(--muted)
}
.dot{width:8px;height:8px;border-radius:99px;background:rgba(0,0,0,.25)}
.dot.ok{background:var(--lime)}
.dot.warn{background:var(--warn)}
.page{
  display:grid;grid-template-columns: 1.05fr .95fr; gap:22px; align-items:start;
}
@media (max-width:980px){ .page{grid-template-columns:1fr} }
.left{
  padding:10px 6px;
}
.h1{font-size:64px;letter-spacing:-.04em;line-height:1.02;margin:18px 0 8px}
@media (max-width:680px){ .h1{font-size:44px} }
.sub{font-size:18px;color:var(--muted);line-height:1.5;max-width:56ch}
.card{
  background:var(--cardSolid); border:1px solid rgba(0,0,0,.10);
  border-radius:var(--radius); box-shadow:var(--shadow);
  padding:18px;
}
.card.soft{background:var(--card)}
.steps{
  display:flex; gap:10px; flex-wrap:wrap; margin:14px 0 0;
}
.step{
  display:flex;align-items:center;gap:10px;
  border:1px solid rgba(0,0,0,.10); background:#fff;
  border-radius:999px; padding:10px 12px; font-size:14px;
}
.stepNum{
  width:26px;height:26px;border-radius:999px;
  display:inline-flex;align-items:center;justify-content:center;
  border:1px solid rgba(0,0,0,.14);
  background:rgba(0,0,0,.04);
  font-weight:800;
}
.step[aria-current="step"]{
  border-color:rgba(34,197,94,.40);
  box-shadow:0 10px 30px rgba(34,197,94,.16);
}
.step[aria-current="step"] .stepNum{
  background:linear-gradient(135deg,#a7f3d0,#22c55e);
  border-color:rgba(34,197,94,.45);
}
.step.muted{opacity:.55}
.hr{height:1px;background:rgba(0,0,0,.08);margin:14px 0}
.h3{font-size:16px;margin:0 0 10px}
.help{font-size:13px;color:var(--muted);line-height:1.5;margin:0 0 12px}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:680px){ .grid2{grid-template-columns:1fr} }
.field label{display:block;font-size:12px;color:var(--muted);margin:2px 0 6px;font-weight:700}
.input, select{
  width:100%; padding:12px 12px; border-radius:14px;
  border:1px solid rgba(0,0,0,.12);
  background:#fff; font-size:14px;
}
.input:focus, select:focus{outline:2px solid rgba(34,197,94,.25);border-color:rgba(34,197,94,.45)}
.actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.toast{
  position:fixed;left:50%;bottom:18px;transform:translateX(-50%);
  background:#0b0b0c;color:#fff;padding:10px 12px;border-radius:999px;
  font-size:13px;opacity:0;pointer-events:none;transition:opacity .2s ease, transform .2s ease;
  box-shadow:0 12px 30px rgba(0,0,0,.22);
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(-2px)}
.fadeOut{animation:fadeOut .28s ease forwards}
@keyframes fadeOut{to{opacity:0;transform:translateY(6px)}}
.footer{margin-top:18px;color:var(--muted);font-size:12px}
.small{font-size:12px;color:var(--muted)}
.badge{
  display:inline-flex;align-items:center;gap:8px;
  border:1px solid rgba(0,0,0,.10);background:#fff;border-radius:999px;
  padding:8px 10px;font-size:12px;color:var(--muted);font-weight:700
}
.badge strong{color:var(--text)}
</style>

</head>
<body>
<div class="wrap" id="top">


<nav class="nav" aria-label="Primary navigation">
  <a class="brand" href="index.html#top" aria-label="JobApply-AI Home">
    <div class="logo" aria-hidden="true"></div>
    <span>JobApply-AI</span>
  </a>
  <div class="navlinks" aria-label="Site links">
    <a href="index.html#how">How it works</a>
    <a href="index.html#dashboard">Dashboard</a>
    <a href="index.html#pricing">Pricing</a>
    <a href="index.html#why">Why this works</a>
    <a href="index.html#contact">Contact</a>
  </div>
  <div class="navcta">
    <span class="pill" id="authPill"><span class="dot"></span><span id="authText">Not signed in</span></span>
  </div>
</nav>

<div class="page" id="page">
  <div class="left">
    <div class="h1">Choose a plan</div>
    <div class="sub">Step 3 of 3. Select your subscription. You can change plans later.</div>
    
<div class="steps" aria-label="Onboarding steps">
  <a class="step" href="signup.html"  onclick="JA.nav('signup.html');return false;"><span class="stepNum">1</span><span>Signup</span></a>
  <a class="step" href="profile.html"  onclick="JA.nav('profile.html');return false;"><span class="stepNum">2</span><span>Profile</span></a>
  <a class="step" href="plan.html" aria-current="step" onclick="JA.nav('plan.html');return false;"><span class="stepNum">3</span><span>Plan</span></a>
</div>

    <div class="footer">Next step (later): Stripe checkout + dashboard.</div>
  </div>

  <div class="card" id="card">
    <div id="gate" class="card soft" style="display:none;margin-bottom:12px">
      <div class="h3" style="margin-bottom:6px">Complete previous steps</div>
      <p class="help">Please finish Signup and Profile setup before selecting a plan.</p>
      <div class="actions">
        <button class="btn" type="button" onclick="JA.nav('signup.html')">Go to signup</button>
        <button class="btn lime" type="button" onclick="JA.nav('profile.html')">Go to profile</button>
      </div>
    </div>

    <div class="h3">Plans</div>
    <p class="help">To make value clear, we show an estimated monthly volume (30-day month).</p>

    <div class="grid2" style="grid-template-columns:1fr 1fr;gap:12px">
      <div class="card soft" style="padding:14px">
        <div style="display:flex;justify-content:space-between;gap:10px;align-items:flex-start">
          <div>
            <div style="font-weight:900;font-size:16px">Starter</div>
            <div class="small">1 application/day • ~30/month</div>
          </div>
          <div style="font-weight:900">€20</div>
        </div>
        <div class="actions">
          <button class="btn" type="button" data-plan="starter">Select</button>
        </div>
      </div>

      <div class="card soft" style="padding:14px">
        <div style="display:flex;justify-content:space-between;gap:10px;align-items:flex-start">
          <div>
            <div style="font-weight:900;font-size:16px">Pro</div>
            <div class="small">5 applications/day • ~150/month</div>
          </div>
          <div style="font-weight:900">€49</div>
        </div>
        <div class="actions">
          <button class="btn" type="button" data-plan="pro">Select</button>
        </div>
      </div>

      <div class="card soft" style="padding:14px">
        <div style="display:flex;justify-content:space-between;gap:10px;align-items:flex-start">
          <div>
            <div style="font-weight:900;font-size:16px">Elite</div>
            <div class="small">10 applications/day • ~300/month</div>
          </div>
          <div style="font-weight:900">€89</div>
        </div>
        <div class="actions">
          <button class="btn" type="button" data-plan="elite">Select</button>
        </div>
      </div>

      <div class="card" style="padding:14px;border-style:dashed">
        <div style="font-weight:900">Selected</div>
        <div class="small" id="selectedSummary" style="margin-top:6px">No plan selected yet.</div>
        <div class="actions" style="margin-top:12px">
          <button class="btn" type="button" id="backBtn">Back</button>
          <button class="btn black disabled" type="button" id="checkoutBtn" disabled>Continue to checkout</button>
        </div>
        <div class="small" style="margin-top:10px">Checkout is a placeholder. Next you can connect Stripe.</div>
      </div>
    </div>
  </div>
</div>

<script>
(function(){
  const authText = document.getElementById('authText');
  const authPill = document.getElementById('authPill');
  const gate = document.getElementById('gate');
  const checkoutBtn = document.getElementById('checkoutBtn');
  const selectedSummary = document.getElementById('selectedSummary');
  const backBtn = document.getElementById('backBtn');

  function setAuth(){
    const email = JA.get('ja_user_email');
    const signed = JA.get('ja_signed_in') === 'true' && !!email;
    authText.textContent = signed ? email : "Not signed in";
    authPill.querySelector('.dot').className = "dot " + (signed ? "ok" : "");
  }
  function gateSteps(){
    const signed = JA.get('ja_signed_in') === 'true';
    const prof = JA.get('ja_profile_complete') === 'true';
    if(!signed || !prof){
      gate.style.display = "block";
    }
  }
  function setEnabled(btn, enabled){
    btn.disabled = !enabled;
    btn.classList.toggle('disabled', !enabled);
  }
  function planMeta(plan){
    if(plan==='starter') return {name:'Starter', desc:'1/day (~30/mo)', price:'€20'};
    if(plan==='pro') return {name:'Pro', desc:'5/day (~150/mo)', price:'€49'};
    if(plan==='elite') return {name:'Elite', desc:'10/day (~300/mo)', price:'€89'};
    return null;
  }
  function renderSelected(){
    const p = JA.get('ja_plan');
    const meta = planMeta(p);
    if(!meta){
      selectedSummary.textContent = "No plan selected yet.";
      setEnabled(checkoutBtn, false);
      return;
    }
    selectedSummary.textContent = meta.name + " • " + meta.desc + " • " + meta.price;
    setEnabled(checkoutBtn, true);
  }

  document.querySelectorAll('[data-plan]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const signed = JA.get('ja_signed_in') === 'true';
      const prof = JA.get('ja_profile_complete') === 'true';
      if(!signed){ JA.showToast('Complete signup first'); return; }
      if(!prof){ JA.showToast('Complete profile first'); return; }
      const plan = btn.getAttribute('data-plan');
      JA.set('ja_plan', plan);
      JA.showToast('Plan selected');
      renderSelected();
    });
  });

  checkoutBtn.addEventListener('click', ()=>{
    if(checkoutBtn.disabled) return;
    JA.showToast('Checkout coming next (Stripe)');
  });

  backBtn.addEventListener('click', ()=> JA.nav('profile.html'));

  setAuth();
  gateSteps();
  renderSelected();
})();
</script>

</div>
<div id="toast" class="toast" role="status" aria-live="polite"></div>

<script>
(function(){
  const toast = document.getElementById('toast');
  function showToast(msg){
    if(!toast) return;
    toast.textContent = msg;
    toast.classList.add('show');
    window.clearTimeout(showToast._t);
    showToast._t = window.setTimeout(()=>toast.classList.remove('show'), 2200);
  }
  window.JA = {
    showToast,
    nav(url){
      document.body.classList.add('fadeOut');
      setTimeout(()=>{ window.location.href = url; }, 220);
    },
    get(key){ try{return localStorage.getItem(key);}catch(e){return null;} },
    set(key,val){ try{ localStorage.setItem(key,val);}catch(e){} },
    del(key){ try{ localStorage.removeItem(key);}catch(e){} },
  };
})();
</script>

</body>
</html>
